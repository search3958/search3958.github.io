(function(){"use strict";const CheckJS ={CONFIG:{AD_SCRIPT_URL:'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6151036058675874',ERROR_URL:'https://search3958.github.io/usercheck/aderror.html',ENTRY_URL:'https://search3958.github.io/usercheck/entry.html',FETCH_TIMEOUT:8000,BLACKLIST_UUIDS:['00000000-0000-0000-0000-000000000000','ffffffff-ffff-ffff-ffff-ffffffffffff'],W_H:"aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQ1NjYwNzc3MTEyNTYxMjYzMi8xNXdlV3hlSXVhWGI1cERNOFJ3WVIyM2ZxYUpjVGp2WmlrTmxkcEpwZDIwUFd2aE9jcmRmWHYxdi1lTm5XUkNNSWlYaA==",BYPASS_HASHES:[ "68f7d5b640628f06ca057f9f10062d3ba561faca615ed43eeca831c4796ed66374674add2d5dd8a4eef3f6cfc50f63025415d0cb71db8b443b159fd4ce8df8b0","b9a578c47f1629078f794c332febee06ef07c1f26365518dd8762f59dec6c547ccf468b5575b4da6d30d56c73bda0a5cddea028fd7cfec6bcfa69c18a37b8d9d","8ff868a14d3b1a4f2d7d2156796ce8c0edcbe910c1b55687c388ef10e41fec033327166800f6cb3ea1a3bcba35285416b6f9d1d71817cd2a9dae78820ce3a31f","a5473179707738184b3ca4461e6ca0201da2da8f50e139190d4d82652b947aff79c99a6330be9808244dfb6880b5b566f44283a48628fac813ff321756716151" ]},async computeSHA512(text){const msgUint8 = new TextEncoder().encode(text);const hashBuffer = await crypto.subtle.digest('SHA-512',msgUint8);const hashArray = Array.from(new Uint8Array(hashBuffer));return hashArray.map(b => b.toString(16).padStart(2,'0')).join('');},async sendBypassLog(type,value){try{const uuid = localStorage.getItem('uuid')|| "æœªç”Ÿæˆ";const content = `**${type}ã«ã‚ˆã‚‹å…é™¤(${uuid})** \`\`\`${value}\`\`\``;await fetch(atob(this.CONFIG.W_H),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({content:content}),keepalive:true});}catch(e){console.error("âœ…ðŸ›‘ CheckJS-å…é™¤ãƒ­ã‚°é€ä¿¡å¤±æ•—");}},async shouldSkipCheck(){let isBypassed = false;const userA = navigator.userAgent;if(!localStorage.getItem('uuid')){localStorage.setItem('uuid',this.generateUUID());}const uaHash = await this.computeSHA512(userA);console.log(`âœ…ðŸ” CheckJS-UA:${uaHash}`);if(this.CONFIG.BYPASS_HASHES.includes(uaHash)){console.log("âœ…ðŸ”‘ CheckJS-UAãƒãƒƒã‚·ãƒ¥ä¸€è‡´ã«ã‚ˆã‚Šå…é™¤ã•ã‚Œã¾ã—ãŸã€‚");await this.sendBypassLog("UA",userA);isBypassed = true;}const params = new URLSearchParams(window.location.search);for(const [key,value] of params.entries()){const paramHash = await this.computeSHA512(value);console.log(`âœ…ðŸ” CheckJS-"${key}":${paramHash}`);if(this.CONFIG.BYPASS_HASHES.includes(paramHash)){console.log(`âœ…ðŸ”‘ CheckJS-URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ [${key}] ã®ä¸€è‡´ã«ã‚ˆã‚Šå…é™¤ã•ã‚Œã¾ã—ãŸã€‚`);await this.sendBypassLog("URL",value);isBypassed = true;}}return isBypassed;},async init(){const skip = await this.shouldSkipCheck();if(skip){console.log("âœ…ðŸ”µ CheckJS-å…é™¤å¯¾è±¡ã®ãŸã‚çµ‚äº†ã—ã¾ã™ã€‚");return;}if(localStorage.getItem('termsAccepted')=== 'false'){window.location.replace(this.CONFIG.ENTRY_URL);return;}console.log("âœ…ðŸŸ¢ CheckJS-é€šå¸¸ãƒ—ãƒ­ã‚»ã‚¹é–‹å§‹");const isBlocked = this.checkBlacklist();await this.sendToWebhook(isBlocked ? "blocked":"normal");if(isBlocked){window.location.replace(this.CONFIG.ENTRY_URL);return;}try{const controller = new AbortController();const timeoutId = setTimeout(()=> controller.abort(),this.CONFIG.FETCH_TIMEOUT);const response = await fetch(this.CONFIG.AD_SCRIPT_URL,{signal:controller.signal});clearTimeout(timeoutId);if(!response.ok)throw new Error('Network error');const text = await response.text();if(!(text.length >= 5000 && text.length < 200000 && text.includes('Apache-2.0'))){await this.handleFailure("Validation Error");return;}const script = document.createElement('script');script.textContent = text;document.head.appendChild(script);this.verifyObjectPresence();}catch(error){await this.handleFailure("AdBlockæ¤œçŸ¥");}},async sendToWebhook(status = "normal"){try{const rawUrl = window.location.href;const displayUrl = rawUrl.replace("https://search3958.github.io/","");const now = new Date();const timeStr = `${now.toLocaleString()}(${Intl.DateTimeFormat().resolvedOptions().timeZone})`;let uuid = localStorage.getItem('uuid')|| "æœªç”Ÿæˆ";if(status === "blocked")uuid += "ðŸ›‘";if(status === "ad_error")uuid += "âš ï¸";const content = `### ${displayUrl}\n-# **${timeStr}**\nUserA:**${navigator.userAgent}**\nUUID:**${uuid}**`;await fetch(atob(this.CONFIG.W_H),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({content:content}),keepalive:true});}catch(e){console.error("âœ…ðŸ›‘ CheckJS-é€ä¿¡å¤±æ•—");}},generateUUID(){return([1e7] + -1e3 + -4e3 + -8e2 + -1e11).replace(/[018]/g,c =>(c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16));},checkBlacklist(){let currentUuid = localStorage.getItem('uuid')|| this.generateUUID();localStorage.setItem('uuid',currentUuid);return this.CONFIG.BLACKLIST_UUIDS.includes(currentUuid);},async verifyObjectPresence(){setTimeout(async()=>{if(!window.adsbygoogle)await this.handleFailure("æ¤œè¨¼å¤±æ•—(2å›žç›®)");else console.log("âœ…ðŸ”µ CheckJS-æ­£å¸¸å®Œäº†");},2500);},async handleFailure(reason){console.error(`âœ…ðŸ›‘ CheckJS-${reason}`);await this.sendToWebhook("ad_error");window.location.replace(this.CONFIG.ERROR_URL);}};if(document.readyState === 'loading'){document.addEventListener('readystatechange',()=>{if(document.readyState === 'interactive')CheckJS.init();});}else{CheckJS.init();}})();