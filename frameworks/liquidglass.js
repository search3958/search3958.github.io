function createBorderMask(w,h,radius,border){const innerW = w - border * 2;const innerH = h - border * 2;const innerRadius = Math.max(radius - border,0);const svg = ` <svg xmlns="http://www.w3.org/2000/svg" width="${w}" height="${h}"> <defs> <mask id="m"> <rect width="${w}" height="${h}" rx="${radius}" ry="${radius}" fill="white"/> <rect x="${border}" y="${border}" width="${innerW}" height="${innerH}" rx="${innerRadius}" ry="${innerRadius}" fill="black"/> </mask> </defs> <rect width="${w}" height="${h}" mask="url(#m)" /> </svg> `;return `url("data:image/svg+xml,${encodeURIComponent(svg)}")`;}function applyLiquidGlassEffect(container){const outerCount = 20;const outerStep = 2;const borderThickness = 6;const masks = [];function updateMasks(){masks.forEach(mask => mask.remove());masks.length = 0;const computedStyle = window.getComputedStyle(container);const width = parseFloat(computedStyle.width);const height = parseFloat(computedStyle.height);const borderRadius = parseFloat(computedStyle.borderRadius)|| 0;for(let i = 0;i < outerCount;i++){const inset = i * outerStep;const normalizedPosition =(outerCount - i)/ outerCount;const blur = Math.pow(normalizedPosition,3.5)* 60;const currentWidth = width - inset * 2;const currentHeight = height - inset * 2;const currentRadius = Math.max(borderRadius - inset,0);if(currentWidth <= 0 || currentHeight <= 0)continue;const mask = document.createElement('div');mask.className = 'mask';mask.style.position = 'absolute';mask.style.inset = `${inset}px`;mask.style.width = `${currentWidth}px`;mask.style.height = `${currentHeight}px`;mask.style.borderRadius = `${currentRadius}px`;mask.style.backdropFilter = `blur(${blur}px)`;mask.style.webkitBackdropFilter = `blur(${blur}px)`;mask.style.pointerEvents = 'none';mask.style.zIndex = `${outerCount - i}`;mask.style.mask = createBorderMask(currentWidth,currentHeight,currentRadius,borderThickness);mask.style.webkitMask = createBorderMask(currentWidth,currentHeight,currentRadius,borderThickness);container.appendChild(mask);masks.push(mask);}}updateMasks();const resizeObserver = new ResizeObserver(()=>{updateMasks();});resizeObserver.observe(container);container._resizeObserver = resizeObserver;}document.querySelectorAll('.liquid-glass').forEach(el =>{applyLiquidGlassEffect(el);});