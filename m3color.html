<!DOCTYPE html>
<html lang="en">
<head>
<style>*{font-family:"Inter",sans-serif}body{background:#f9f9ff}h1{font-weight:400;transition:all 0.3s ease}h1:active{font-weight:100}.tool{display:flex;align-items:center;margin-bottom:10px;margin-left:-8px}button{color:#415f91;background:none;border:none;border-radius:100px;padding:8px}#add-tool{background:#d6e3ff;color:#415f91}.tool label{margin-right:10px}.tool input[type="text"]{padding:8px;border-radius:4px 4px 0 0;border:none;background:#e2e2e9;border-bottom:solid #565f71 1.5px;transition:all 0.3s ease}.tool input[type="text"]:focus{background:#c4c6d0;border-bottom:solid #415f91 1.5px;outline:none}.tool input[type="text"],.tool input[type="color"]{margin-right:10px}.tool input[type="range"]{margin-right:10px}.tool .value{width:50px;text-align:center}#group-output{position:fixed;top:10px;right:10px;width:calc(100vw - 1050px);height:calc(100vh - 40px);border:none;padding:10px;resize:none;background-color:#ededf4;font-family:monospace;white-space:pre-wrap;overflow-y:auto;border-radius:8px}.base-color{margin-bottom:20px}</style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M3 Color code generator</title>
</head>
  <meta name="description" content="Material 3デザインに基づいたカラーパレットを作るJavScriptを簡単に生成できるツールです。CSSコードも自動生成され、開発効率を向上させます。">
<meta property="og:title" content="M3 Color Generator - Material 3カラーパレット作成ツール">
<meta property="og:description" content="Material 3デザインに基づいたカラーパレットを作るJavScriptを簡単に生成できるツールです。CSSコードも自動生成され、開発効率を向上させます。">
<meta property="og:image" content="https://search3958.github.io/assets/m3color-thumbnail.png">
<meta property="og:url" content="https://search3958.github.io/m3color.html">
<meta property="og:type" content="website">

<body>
    <h1>Dynamic color tools</h1>
<p>CSS Name and ID should be different.
For example: "colorname" + "colorName"</p>
    <div class="base-color">
        <label for="baseColor">Base Color:</label>
        <input type="color" id="baseColor" name="baseColor" value="#ff0000">
    </div>

    <div id="tools-container"></div>
    <button id="add-tool">Add Tool</button>
    <textarea id="group-output" readonly></textarea>
<script>const container=document.getElementById('tools-container');const addToolButton=document.getElementById('add-tool');const baseColorPicker=document.getElementById('baseColor');const groupOutput=document.getElementById('group-output');function updateGroupOutput(){let declarations='';let propertiesWithoutColor='';let propertiesWithColor='';const tools=document.querySelectorAll('.tool');tools.forEach((tool,index)=>{const nameInput=tool.querySelector('input[name="name"]');const idInput=tool.querySelector('input[name="id"]');const lightenCheckbox=tool.querySelector('input[type="checkbox"]');const brightSlider=tool.querySelector('input[type="range"]');const colorPicker=tool.querySelector('input[type="color"]');const nameValue=nameInput.value||`Unnamed${index + 1}`;const idValue=idInput.value||`id${index + 1}`;const darkenOrLighten=lightenCheckbox.checked?'lighten':'darken';const brightness=brightSlider.value;const defaultColor=colorPicker.value;declarations+=`const ${idValue} = ${darkenOrLighten}Color(baseColor, ${brightness});\n`;propertiesWithoutColor+=`document.documentElement.style.setProperty('--${nameValue}', ${idValue});\n`;propertiesWithColor+=`document.documentElement.style.setProperty('--${nameValue}', '${defaultColor}');\n`});groupOutput.value='function lightenColor(color,amount){\nlet r=parseInt(color.slice(1,3),16);\nlet g=parseInt(color.slice(3,5),16);\nlet b=parseInt(color.slice(5,7),16);\n\nr=Math.min(255,Math.floor(r+(255-r)*amount));\ng=Math.min(255,Math.floor(g+(255-g)*amount));\nb=Math.min(255,Math.floor(b+(255-b)*amount));\n\nreturn `#${r.toString(16).padStart(2, \'0\')}${g.toString(16).padStart(2, \'0\')}${b.toString(16).padStart(2, \'0\')}`\n}\n\n function darkenColor(color,amount){\nlet r=parseInt(color.slice(1,3),16);\nlet g=parseInt(color.slice(3,5),16);\nlet b=parseInt(color.slice(5,7),16);\n\nr=Math.max(0,Math.floor(r*(1-amount)));\ng=Math.max(0,Math.floor(g*(1-amount)));\nb=Math.max(0,Math.floor(b*(1-amount)));\n\nreturn `#${r.toString(16).padStart(2, \'0\')}${g.toString(16).padStart(2, \'0\')}${b.toString(16).padStart(2, \'0\')}`\n}\n\n function updateColors(){\nconst baseColor=document.getElementById(\'base-color\').value;\n'+declarations+'\n'+propertiesWithoutColor+'localStorage.setItem(\'baseColor\',baseColor);\nlocalStorage.setItem(\'themeDisabled\',\'false\')\n}\n\n function applyDefaultColors(){\n\n'+propertiesWithColor+'localStorage.setItem(\'themeDisabled\',\'true\')\n}\n\n function loadColors(){\nconst savedColor=localStorage.getItem(\'baseColor\');\nconst themeDisabled=localStorage.getItem(\'themeDisabled\');\n\nif(themeDisabled===\'true\'){\napplyDefaultColors();\n}else{\nif(savedColor){\ndocument.getElementById(\'base-color\').value=savedColor;updateColors();\n}else{\napplyDefaultColors();\n}\n}\n}\n document.getElementById(\'base-color\').addEventListener(\'input\',updateColors);\ndocument.getElementById(\'disable-material3\').addEventListener(\'click\',applyDefaultColors);\nloadColors()'} function createTool(){const tool=document.createElement('div');tool.className='tool';const nameLabel=document.createElement('label');nameLabel.textContent='';const nameInput=document.createElement('input');nameInput.type='text';nameInput.name='name';nameInput.placeholder='CSS Name';const idLabel=document.createElement('label');idLabel.textContent='';const idInput=document.createElement('input');idInput.type='text';idInput.name='id';idInput.placeholder='ID';const lightenLabel=document.createElement('label');lightenLabel.textContent='Lighten:';const lightenCheckbox=document.createElement('input');lightenCheckbox.type='checkbox';const brightLabel=document.createElement('label');brightLabel.textContent='Brightness:';const brightSlider=document.createElement('input');brightSlider.type='range';brightSlider.min='0';brightSlider.max='1';brightSlider.step='0.01';brightSlider.value='0.5';const brightValue=document.createElement('span');brightValue.className='value';brightValue.textContent=brightSlider.value;const colorLabel=document.createElement('label');colorLabel.textContent='Default Color:';const colorPicker=document.createElement('input');colorPicker.type='color';const deleteButton=document.createElement('button');deleteButton.textContent='Delete';deleteButton.addEventListener('click',()=>{tool.remove();updateGroupOutput()});nameInput.addEventListener('input',updateGroupOutput);idInput.addEventListener('input',updateGroupOutput);lightenCheckbox.addEventListener('change',updateGroupOutput);brightSlider.addEventListener('input',()=>{brightValue.textContent=brightSlider.value;updateGroupOutput()});colorPicker.addEventListener('input',updateGroupOutput);tool.appendChild(nameLabel);tool.appendChild(nameInput);tool.appendChild(idLabel);tool.appendChild(idInput);tool.appendChild(lightenLabel);tool.appendChild(lightenCheckbox);tool.appendChild(brightLabel);tool.appendChild(brightSlider);tool.appendChild(brightValue);tool.appendChild(colorLabel);tool.appendChild(colorPicker);tool.appendChild(deleteButton);container.appendChild(tool);updateGroupOutput()} addToolButton.addEventListener('click',createTool);createTool()</script>
</body>
</html>
