<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>XML Translator Demo</title>
    <script src="translator.js" data-xml="dict.xml"></script>
</head>
<body>

    <select id="lang-switch">
        <option value="ja">日本語</option>
        <option value="en">English</option>
        <option value="zh-CN">简体中文</option>
        <option value="zh-TW">繁體中文</option>
        <option value="ko">한국어</option>
        <option value="ko-KP">조선말</option>
    </select>

    <hr>

    <h1>こんにちは</h1>
    <p>これはテストです。</p>

    <script>
        // 1. URLパラメータからXMLのパスを取得（なければデフォルト指定）
        const urlParams = new URLSearchParams(window.location.search);
        const xmlFile = urlParams.get('dict') || 'dict.xml'; 

        // 2. 翻訳実行
        window.addEventListener('DOMContentLoaded', () => {
            translator.load(xmlFile);

            // セレクトボックスの初期値設定
            const selector = document.getElementById('lang-switch');
            selector.value = localStorage.getItem('selectedLang') || 'ja';

            // 言語切り替えイベント
            selector.addEventListener('change', (e) => {
                translator.setLanguage(e.target.value);
            });
        });
    </script>
</body>  <script src="check.js"></script>
</html>